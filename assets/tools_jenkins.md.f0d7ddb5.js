import{_ as s,o as a,c as n,Q as e}from"./chunks/framework.baea2d07.js";const u=JSON.parse('{"title":"jenkins","description":"","frontmatter":{},"headers":[],"relativePath":"tools/jenkins.md","filePath":"tools/jenkins.md","lastUpdated":1699268300000}'),o={name:"tools/jenkins.md"},l=e(`<h1 id="jenkins" tabindex="-1">jenkins <a class="header-anchor" href="#jenkins" aria-label="Permalink to &quot;jenkins&quot;">​</a></h1><p>自动化部署流程</p><h2 id="部署网页" tabindex="-1">部署网页 <a class="header-anchor" href="#部署网页" aria-label="Permalink to &quot;部署网页&quot;">​</a></h2><ul><li><code>源码管理</code>：连接代码仓库</li><li><code>构建触发器</code>：什么时候触发构建部署流程</li><li><code>构建环境</code>：构建需要的环境</li><li><code>构建</code>：可以添加构建命令等</li><li><code>构建后操作</code>：构建完成后的操作</li></ul><h2 id="连接-gitlab" tabindex="-1">连接 gitlab <a class="header-anchor" href="#连接-gitlab" aria-label="Permalink to &quot;连接 gitlab&quot;">​</a></h2><ol><li>使用 <code>ssh-keygen</code> 命令生成秘钥对：</li></ol><ul><li>将公钥设置到 <code>gitlab</code> 中。</li><li>将私钥设置到 <code>jenkins</code> 的 <code>系统管理 &gt; Manage credentials</code>中。</li></ul><ol start="2"><li>在 <code>源码管理</code> 阶段设置对应的仓库、<code>credentials</code>、以及分支等。 <img src="https://imgs.qinguanghui.com/jinkins/gitlab.png" alt=""></li></ol><h2 id="构建环境" tabindex="-1">构建环境 <a class="header-anchor" href="#构建环境" aria-label="Permalink to &quot;构建环境&quot;">​</a></h2><ol><li><code>系统管理 &gt; 插件管理</code> 下载 <code>nodejs</code> 插件。</li><li><code>系统管理 &gt; 全局工具配置</code> 下载对应版本的 <code>nodejs</code>。</li><li><code>构建环境</code>中选择 <code>Provide Node &amp; npm bin/ folder to PATH</code><img src="https://imgs.qinguanghui.com/jinkins/node-use.png" alt=""></li></ol><h2 id="构建命令" tabindex="-1">构建命令 <a class="header-anchor" href="#构建命令" aria-label="Permalink to &quot;构建命令&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> $PATH</span></span>
<span class="line"><span style="color:#B392F0;">node</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--registry=https://registry.npm.taobao.org</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">build</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> $PATH</span></span>
<span class="line"><span style="color:#6F42C1;">node</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--registry=https://registry.npm.taobao.org</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#032F62;">build</span></span></code></pre></div>`,12),t=[l];function p(c,i,r,d,h,y){return a(),n("div",null,t)}const E=s(o,[["render",p]]);export{u as __pageData,E as default};
