import{_ as e,c as s,o as a,a as n}from"./app.da177e40.js";const C=JSON.parse('{"title":"jenkins","description":"","frontmatter":{},"headers":[{"level":2,"title":"部署网页","slug":"部署网页","link":"#部署网页","children":[]},{"level":2,"title":"连接 gitlab","slug":"连接-gitlab","link":"#连接-gitlab","children":[]},{"level":2,"title":"构建环境","slug":"构建环境","link":"#构建环境","children":[]},{"level":2,"title":"构建命令","slug":"构建命令","link":"#构建命令","children":[]}],"relativePath":"tools/jenkins.md","lastUpdated":1677324754000}'),l={name:"tools/jenkins.md"},o=n(`<h1 id="jenkins" tabindex="-1">jenkins <a class="header-anchor" href="#jenkins" aria-hidden="true">#</a></h1><p>自动化部署流程</p><h2 id="部署网页" tabindex="-1">部署网页 <a class="header-anchor" href="#部署网页" aria-hidden="true">#</a></h2><ul><li><code>源码管理</code>：连接代码仓库</li><li><code>构建触发器</code>：什么时候触发构建部署流程</li><li><code>构建环境</code>：构建需要的环境</li><li><code>构建</code>：可以添加构建命令等</li><li><code>构建后操作</code>：构建完成后的操作</li></ul><h2 id="连接-gitlab" tabindex="-1">连接 gitlab <a class="header-anchor" href="#连接-gitlab" aria-hidden="true">#</a></h2><ol><li>使用 <code>ssh-keygen</code> 命令生成秘钥对：</li></ol><ul><li>将公钥设置到 <code>gitlab</code> 中。</li><li>将私钥设置到 <code>jenkins</code> 的 <code>系统管理 &gt; Manage credentials</code>中。</li></ul><ol start="2"><li>在 <code>源码管理</code> 阶段设置对应的仓库、<code>credentials</code>、以及分支等。 <img src="https://imgs.qinguanghui.com/jinkins/gitlab.png" alt=""></li></ol><h2 id="构建环境" tabindex="-1">构建环境 <a class="header-anchor" href="#构建环境" aria-hidden="true">#</a></h2><ol><li><code>系统管理 &gt; 插件管理</code> 下载 <code>nodejs</code> 插件。</li><li><code>系统管理 &gt; 全局工具配置</code> 下载对应版本的 <code>nodejs</code>。</li><li><code>构建环境</code>中选择 <code>Provide Node &amp; npm bin/ folder to PATH</code><img src="https://imgs.qinguanghui.com/jinkins/node-use.png" alt=""></li></ol><h2 id="构建命令" tabindex="-1">构建命令 <a class="header-anchor" href="#构建命令" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> $PATH</span></span>
<span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--registry=https://registry.npm.taobao.org</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span></span>
<span class="line"></span></code></pre></div>`,12),i=[o];function t(c,d,r,p,h,g){return a(),s("div",null,i)}const _=e(l,[["render",t]]);export{C as __pageData,_ as default};
