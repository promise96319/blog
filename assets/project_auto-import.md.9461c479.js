import{_ as e,o as l,c as t,a}from"./app.9fd1379c.js";const m=JSON.parse('{"title":"自动引入方案","description":"","frontmatter":{},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"解决目标","slug":"解决目标","link":"#解决目标","children":[]},{"level":2,"title":"解决方法","slug":"解决方法","link":"#解决方法","children":[]},{"level":2,"title":"一些问题","slug":"一些问题","link":"#一些问题","children":[]},{"level":2,"title":"案例","slug":"案例","link":"#案例","children":[]}],"relativePath":"project/auto-import.md","lastUpdated":1685031066000}'),i={name:"project/auto-import.md"},o=a('<h1 id="自动引入方案" tabindex="-1">自动引入方案 <a class="header-anchor" href="#自动引入方案" aria-hidden="true">#</a></h1><h2 id="背景" tabindex="-1">背景 <a class="header-anchor" href="#背景" aria-hidden="true">#</a></h2><p>对于一些通用库和共用文件，每个文件都需要重复引入一遍，比较麻烦。另外引入内容过多时，代码的可读性不强。</p><h2 id="解决目标" tabindex="-1">解决目标 <a class="header-anchor" href="#解决目标" aria-hidden="true">#</a></h2><p>对于通用文件可以无需引入即可使用相关 api：</p><ul><li>通用库：比如 <code>react/react-dom/mobx/classnames/...</code> 等等。</li><li>内部私有库： 比如 <code>@qt/design、@qt/ui、@qt/style、@qt/shared</code> 等等。</li><li>公用文件：比如 <code>common/</code> 文件夹下的公用组件等。</li></ul><h2 id="解决方法" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法" aria-hidden="true">#</a></h2><p>使用 <code>auto-import-plugin</code> 插件：<a href="https://github.com/antfu/unplugin-auto-import" target="_blank" rel="noreferrer">https://github.com/antfu/unplugin-auto-import</a></p><ol><li>根据文档在 <code>webpack</code> 配置中添加 <code>auto-import-plugin</code> 插件。</li><li><code>tsconfig.json</code> 引入插件生成的类型声明文件。</li><li><code>.eslintrc</code> 引入插件生成的 <code>global</code> 声明文件。</li></ol><h2 id="一些问题" tabindex="-1">一些问题 <a class="header-anchor" href="#一些问题" aria-hidden="true">#</a></h2><ol><li>是否支持按需引入？</li></ol><ul><li>支持，插件内部会判断是否使用了某个库的某个变量，来决定是否引入该库。</li></ul><ol start="2"><li>是否支持类型提示？</li></ol><ul><li>支持，但是会多一层类型声明，点击跳转的时候会多点一次，不够理想。</li></ul><ol start="3"><li>是否有 <code>eslint</code> 错误？</li></ol><ul><li>没有。插件内部会将相应的变量在 <code>eslint global</code> 中声明，所以不会存在 <code>no-undef</code> 错误。但是 <code>react/jsx-no-undef</code> 会存在错误，需要开启 <code>allowGlobal: true</code> 配置，允许全局定义的变量解决。</li></ul><h2 id="案例" tabindex="-1">案例 <a class="header-anchor" href="#案例" aria-hidden="true">#</a></h2><ul><li><a href="https://element-plus.org/zh-CN/guide/quickstart.html#%E6%8C%89%E9%9C%80%E5%AF%BC%E5%85%A5" target="_blank" rel="noreferrer">Element Plus</a></li></ul>',18),r=[o];function d(c,n,s,h,u,p){return l(),t("div",null,r)}const f=e(i,[["render",d]]);export{m as __pageData,f as default};
